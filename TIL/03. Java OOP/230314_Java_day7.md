# 230314 Java Day 7
## 목차
<!-- TOC -->

- [Java Day 7](#java-day-7)
    - [목차](#%EB%AA%A9%EC%B0%A8)
    - [변수와 메서드](#%EB%B3%80%EC%88%98%EC%99%80-%EB%A9%94%EC%84%9C%EB%93%9C)
        - [선언 위치에 따른 변수의 종류](#%EC%84%A0%EC%96%B8-%EC%9C%84%EC%B9%98%EC%97%90-%EB%94%B0%EB%A5%B8-%EB%B3%80%EC%88%98%EC%9D%98-%EC%A2%85%EB%A5%98)
            - [Static](#static)
            - [인스턴스 변수와 클래스 변수의 차이](#%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EB%B3%80%EC%88%98%EC%99%80-%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%B3%80%EC%88%98%EC%9D%98-%EC%B0%A8%EC%9D%B4)
        - [클래스 메서드와 인스턴스 메서드](#%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%A9%94%EC%84%9C%EB%93%9C%EC%99%80-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EB%A9%94%EC%84%9C%EB%93%9C)
            - [클래스 메서드](#%ED%81%B4%EB%9E%98%EC%8A%A4-%EB%A9%94%EC%84%9C%EB%93%9C)
            - [인스턴스 메서드](#%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EB%A9%94%EC%84%9C%EB%93%9C)
    - [생성자](#%EC%83%9D%EC%84%B1%EC%9E%90)
    - [변수의 초기화](#%EB%B3%80%EC%88%98%EC%9D%98-%EC%B4%88%EA%B8%B0%ED%99%94)
        - [초기화 블럭](#%EC%B4%88%EA%B8%B0%ED%99%94-%EB%B8%94%EB%9F%AD)
    - [**상속**](#%EC%83%81%EC%86%8D)
        - [object class](#object-class)
        - [super](#super)
        - [super](#super)
        - [메서드 오버라이딩](#%EB%A9%94%EC%84%9C%EB%93%9C-%EC%98%A4%EB%B2%84%EB%9D%BC%EC%9D%B4%EB%94%A9)
            - [오버로딩 vs 오버라이딩](#%EC%98%A4%EB%B2%84%EB%A1%9C%EB%94%A9-vs-%EC%98%A4%EB%B2%84%EB%9D%BC%EC%9D%B4%EB%94%A9)
            - [@Override](#override)
    - [오늘의 Tip](#%EC%98%A4%EB%8A%98%EC%9D%98-tip)
        - [문자열 비교](#%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%B9%84%EA%B5%90)
        - [JVM 실행 구조](#jvm-%EC%8B%A4%ED%96%89-%EA%B5%AC%EC%A1%B0)
        - [toString](#tostring)

<!-- /TOC -->
---
## 변수와 메서드
### 선언 위치에 따른 변수의 종류
> 변수의 선언 위치가 변수의 종류와 범위를 결정한다.  

| 변수의 종류 | 선언 위치     | 생성시기            |
| ------ | --------- | --------------- |
| 클래스변수  | 클래스 영역    | 클래스가 메모리에 올라갈 때 |
| 인스턴스변수 | 클래스 영역   | 인스턴스 생성 시 |
| 지역변수   | 메서드 영역    | 변수 선언문 수행시      |

- 인스턴스변수
  - 클래스 영역에서 선언되는 변수, 멤버변수이다
  - 인스턴스를 생성할 때 생성
  - 참조변수가 없을 때 가비지컬렉터에 의해 자동제거됨
  - 반드시 참조형 변수로만 접근이 가능함 
- 클래스변수
  - 클래스 영역에서 선언되는 변수, 멤버변수이다
  - JVM이 실행시킬 자바프로그램의 class를 JVM 위에 올리는것을 **클래스로딩**이라고 함
  - 클래스로딩
    - 클래스 로딩은 어떤 자바프로그램에서든 한번만 일어남
    - 클래스 로딩은 그 클래스가 필요할 때만 일어남
  - 클래스 로딩 시 생성되는 변수를 클래스변수라 함
   - static 변수로 설정한다.
   #### Static
    - static으로 설정한다는 것은 공유 변수라는 뜻
    - 하나의 객체에서 클래스 변수의 값을 변경하면 모든 객체에서 변경된다.
    - 클래스 이름으로 접근이 가능하며 static 변수는 이렇게 접근하는게 좋음
    - 객체마다 고유값을 갖는지 안갖는지로 구분하여 static 사용 여부를 정하면 됨
  - 프로그램이 종료될 때 소멸
  
- 지역변수
  - 메서드 내에서 선언되는 변수
  - 지역변수에는 static을 붙일 수 없음.
  - 메서드의 종료와 함께 소멸
    - 만약 반복문이나 조건문 내에서 선언된 지역변수는 해당 블럭의 종료와 함께 소멸


#### 인스턴스 변수와 클래스 변수의 차이
- 두 변수 모두 class 영역에서 선언되는 멤버 변수
- 선언 시 클래스 변수는 static을 설정해야함.
- 하나의 클래스로 생성되는 모든 객체에 공통으로 적용될 값을 클래스 변수로 설정하는 것
  - 즉 변하지않고 동일한 하나의 값
```java
class Card {
    // 트럼프 카드 덱을 만든다고 하자
     // 모든 카드의 폭과 높이는 동일해야한다
    static int width = 100; 
    static int height = 250;
    // 따라서 Card 클래스로 생성되는 모든 객체에 공통으로 적용시켜야함으로 static을 설정하여 클래스 변수로 선언해야함

    // 카드의 무늬와 숫자는 만들어지는 객체별로 달라야한다.
    String kind;
    int number;
    // 따라서 static 성질을 갖지않는 인스턴스 변수로 선언한다.
}
```
### 클래스 메서드와 인스턴스 메서드
#### 클래스 메서드
- 객체생성없이 클래스이름.메서드이름()으로 호출
- 인스턴스 변수나 인스턴스메서드와 관련 없는 작업을 함
- 메서드 내에서 인스턴스 변수 사용 불가
#### 인스턴스 메서드
- 인스턴스 생성 후, 참조변수.메서드이름()으로 호출
- 인스턴스 변수나 인스턴스 메서드와 관련된 작업을 함
---
## 생성자
- 인스턴스 생성 시 호출되는 인스턴스 초기화 메서드
- 모든 클래스에는 반드시 하나 이상의 생성자가 있어야함
  - 생성자 선언 없이 클래스를 만들면 컴파일러가 자동으로 default 생성자를 만들어서 추가함 --> 컴파일러의 역할
---
## 변수의 초기화
- 멤버변수와 배열은 각 타입 기본 값으로 자동 초기화  

    | 자료형     | 기본 초기화 값    |
    | ------- | ----------- |
    | int     | 0           |
    | boolean | FALSE       |
    | char    | '\\u0000'   |
    | byte    | 0           |
    | short   | 0           |
    | long    | 0           |
    | float   | 0.0f        |
    | double  | 0.0d 또는 0.0 |
    | String  | "Null"      |
    | 참조형변수   | null        |
- 지역변수는 사용 전 반드시 초기화 해야함
- non-static 멤버 변수는 생성자를 통해 초기화하는 경우가 많다
### 초기화 블럭
- 클래스 초기화 블럭
  - 클래스가 로딩되는 시점에서 생성
  - 복잡한 로직을 통해 초기화를 해야할 때 사용
  - main 메소드가 실행되기 전에 실행된다
- 인스턴스 초기화 블럭
  - 인스턴스 생성 시 생성자보다 먼저 생성
---
## **상속**
> 상속이란 기존의 클래스를 재사용해서 새로운 클래스를 작성하는 것
- 자바는 기본으로 단일 상속을 지원
- 새로운 클래스를 생성 시 부모 클래스를 1개 지정해야함
- 상속 받은 메소드 및 변수를 멤버라고 부름 (생성자, 초기화블럭 제외)
- 자식 클래스는 상속 받은 멤버를 사용할 수 있음
- 자식의 멤버 개수는 부모보다 적을 수 없음
- 어떤 클래스든 객체를 생성하게 되면 부모 클래스의 객체가 함께 생성됨
- 객체 생성시 호출되는 생성자 메서드는 **호출되자마자** 부모 클래스의 생성자를 호출하는 특징을 가짐
- 호출되는 부모 클래스의 생성자는 argument 없는 생성자
- 만약 상속 관계의 클래스들을 수정할 경우가 생기면 자식 클래스를 수정해야함
  - 부모 클래스 수정 시 그 부모 클래스의 다른 자식 클래스에 오류가 다시 발생할 수 있기때문
### object class
 - 부모 클래스를 생략하면 java.lang.Object 클래스를 상속하게 됨
   - java로 만들어지는 모든 클래스들의 최상위 클래스
   - 모든 클래스는 Object 클래스의 자식 클래스
   - Object 클래스의 모든 멤버를 사용 가능

### super
- this와 동일한 역할
- 부모 클래스와 자식 클래스에 동일한 이름의 변수가 있을 때 이를 구분하기 위해 사용

### super()
- 자식 클래스의 인스턴스가 생성될 때는 부모 클래스의 멤버들도 자식 클래스의 멤버로 함께 생성
- 이 때 부모 클래스의 멤버들도 초기화를 해야하기때문에 부모 클래스에 생성자가 필요
- 모든 생성자에는 super()가 생략되어있음
  - 부모 클래스에 생성자가 하나도 없을 때 super() 생략 가능
  - 부모 클래스에 argument를 받는 생성자만 있는 경우 반드시 super()를 작성하고 생성자가 요구하는 매개변수를 함께 할당해야함
- super() 메서드는 첫줄에서 수행되어야함
  - 한 메서드 내에서 this() 와 함께 작성할 수 없음

### 메서드 오버라이딩
- 부모클래스로부터 상속받은 메서드를 자식클래스에서 재정의하는것
- 똑같은 이름, 똑같은 매개변수, 똑같은 리턴 타입을 가져야함
- 접근제어자는 좁은 범위로 변경 불가
  - public -> public
  - protected -> public, protected 
#### 오버로딩 vs 오버라이딩
- 메소드 오버로딩 - NEW
  - 같은 이름이지만 다른 매개변수를 적용하여 **새로운** 메소드를 만드는 것
  - 매개변수와 리턴값 모두 다르게 적용하는 것은 가능하지만 리턴값만 다르게 적용하는 것은 오버로딩이 아님
- 메소드 오버라이딩 - CHANGE
  - 메소드를 **상속** 받아 같은 이름, 같은 매개변수, 같은 리턴타입의 메소드의 **내용을 변경** 변경하는 것 

#### @Override
- 어노테이션
  - JDK5부터 등장, 클래스나 메서드, 변수에 @를 사용하는 것
- 가독성 증가
  - Override된 메소드임을 알릴 수 있음
- 컴파일러가 문법을 체크한다.
  - Override를 사용할 때 문법에 맞지 않게 사용한다면 컴파일러가 error 처리를 해준다.
  - ex) return 값을 다르게 준 경우 등

---
## 오늘의 Tip
### 문자열 비교
- 문자열 비교는 == 연산자를 사용할 수 없다.
```java
//문자열 비교시에는 문자열변수.equals("문자열")을 사용
String string = "Y";

if(string.equlas("Y")){
    System.out.println("Yes!");
}
```

### JVM 실행 구조
![](./image/2023-03-14-10-16-21.png)
- JVM은 자바프로그램이 실행되는 동안 운영체제의 역할을 대신하는 것
- 자바 소스 파일을 실행하면 컴파일러가 이를 바이트 코드 즉 .class파일로 이 파일을 JVM에서 읽어 온다.
- JVM에서 class loader가 class 파일을 읽어 메모리 상에 올리는 작업을 클래스 로딩이라고 함.

### toString
- 어떤 객체를 문자열로 변환하고자 할때 반드시 호출되는 메소드
- 어떤 변수를 출력하려고 System.out.println() 을 사용하면 해당 변수에 toString 메소드를 적용한 리턴 값이 출력된다.
  