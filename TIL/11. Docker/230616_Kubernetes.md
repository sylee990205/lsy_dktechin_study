# 230616 Kubernetes
## 목차
---
## 컨테이너의 특징
- 가상머신과 비교하여 컨테이너 생성이 쉽고 효율적
- 컨테이너 이미지를 이용한 배포와 롤백이 간단
- 언어나 프레임워크에 상관없이 애플리케이션을 동일한 방식으로 관리
- 개발, 테스팅, 운영 환경은 물론 로컬 피시와 클라우드까지 동일한 환경을 구축
- 특정 클라우드 벤더에 종속적이지 않음

### 시스템 구축 자동화
- 유휴 시스템을 파악
- 버전 관리
- 컨테이너는 자동화가 필요함

### 자동화된 컨테이너
- 서비스 이상, 부하가 생길 수 있음
- 모니터링 필요 즉 관리가 필요함

---
## Container Orchestration
- 복잡한 컨테이너 환경을 효과적으로 관리하기 위한 도구
> 컴퓨터 자원과 어플리케이션, 서비스에 대한 자동화된 설정, 관리 및 제어 체계
> > Red Hat의 오케스트레이션 정의

### 컨테이너 오케스트레이션
컨테이너화 된 애플리케이션에 대하여 자동화된 설정, 관리 및 제어 체계
- 중앙제어
  - 클러스터 : 공통의 목적을 위해 작동하는 컴퓨터 또는 애플리케이션들의 그룹
- 상태 관리
- 배포 관리
- 배포 버전관리
- 서비스 등록 및 조회
- 볼륨 스토리지

---
## Kubernetes
- 컨테이너를 쉽고 빠르게 배포/확장하고 관리를 자동화해주는 오픈소스 플랫폼
### 클라우드 환경에서 애플리케이션 배포
- 클라우드 네이티브 컴퓨팅은 클라우드 컴퓨팅을 활용
- 현대적이고 역동적인 환경에서 확장 가능한 애플리케이션을 구축하고 실행하는 소프트웨어 개발 접근 방식
- 쿠버네티스 위에서 클라우드에 어울리는 배포시스템 구축이 용이

### 쿠버네티스의 클러스터 구축과 동작 방법
- 마스터 노드 : 제어 노드
- 워커 노드 : 실제 동작 담당

| 마스터 노드 역할   | 워커 노드 역할 |
| ------------------ | -------------- |
| 컨테이너 실행 안함 | 실제 서버 역할 |
| 워커 노드에서 실행되는 컨테이너 관리 | 컨테이너가 실제 동작하는 서버 | 
| 컨테이너 엔진 설치 안됨 | 컨테이너 엔진 설치 |

### 파드
- 쿠버네티스에서 관리하는 컨테이너 단위
- 컨테이너 볼륨을 하나로 묶은 것
  - 볼륨이 없는 경우도 있음
- 1개의 컨테이너 또는 여러 개의 컨테이너로 구성
- 쿠버네티스에서 생성하고 관리할 수 있는 배포 가능한 가장 작은 컴퓨팅 단위

### 서비스
- 여러 개의 파드를 하나로 관리
- 서비스가 관리하는 파드는 모두 동일한 구성
- 서비스의 역할 : 로드밸런서(부하분산) 역할
- 각 서비스는 자동으로 고정된 IP 주소를 부여받음, 이 주소로 통신
- 여러 개의 파드로 구성되어도 IP 주소는 1개만 부여


### 레플리카 세트
- 파드 수를 관리하는 역할
- 장애 등으로 파드가 종료됐을 때 부족한 파드를 보충하거나 파드 수 감소시 파드 수를 실제로 감소
- 레플리카세트의 목적
  - 레플레카 파드 집합의 실행을 항상 안정적으로 유지
  - 명시된 동일 파드 개수에 대한 가용성을 보증하는데 사용